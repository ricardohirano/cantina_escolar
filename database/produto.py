CATEGORIAS = ["Bebidas", "Sobremesas", "Salgados", "Refeicoes", "Sorvetes", "Outros"]

PRODUTOS = [
    # ========= BEBIDAS =========
    {
        "id": 1,
        "nome": "Água Mineral",
        "preco": 3.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/1.png",
        "disponivel": True,
        "descricao": "Garrafa 500 ml",
    },
    {
        "id": 2,
        "nome": "Coca-Cola Mini",
        "preco": 3.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/2.png",
        "disponivel": True,
        "descricao": "Garrafa 200 ml",
    },
    {
        "id": 3,
        "nome": "Coca-Cola",
        "preco": 8.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/3.png",
        "disponivel": True,
        "descricao": "Garrafa 600 ml",
    },
    {
        "id": 4,
        "nome": "Refrigerante Mini Lata",
        "preco": 4.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/4.png",
        "disponivel": True,
        "descricao": "220 ml · Sabores variados",
    },
    {
        "id": 5,
        "nome": "Refrigerante Lata",
        "preco": 6.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/5.png",
        "disponivel": True,
        "descricao": "350 ml · Sabores variados",
    },
    {
        "id": 6,
        "nome": "Refrigerante 2L",
        "preco": 14.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/6.png",
        "disponivel": True,
        "descricao": "Sabores variados",
    },
    {
        "id": 7,
        "nome": "Pira Kids Achocolatado",
        "preco": 5.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/7.png",
        "disponivel": True,
        "descricao": "200 ml",
    },
    {
        "id": 8,
        "nome": "Del Valle Garrafa",
        "preco": 5.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/8.png",
        "disponivel": True,
        "descricao": "450 ml · Sabores variados",
    },
    {
        "id": 9,
        "nome": "Chá Mate Leão",
        "preco": 6.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/9.png",
        "disponivel": True,
        "descricao": "Garrafa pequena",
    },
    {
        "id": 10,
        "nome": "Del Valle Kapo",
        "preco": 6.0,
        "categoria": "Bebidas",
        "foto_url": "bebidas/10.png",
        "disponivel": True,
        "descricao": "Unidade",
    },

    # ========= SALGADOS =========
    {
        "id": 11,
        "nome": "Coxinha",
        "preco": 7.0,
        "categoria": "Salgados",
        "foto_url": "salgados/1.png",
        "disponivel": True,
        "descricao": "Coxinha de frango",
    },
    {
        "id": 12,
        "nome": "Esfiha",
        "preco": 8.0,
        "categoria": "Salgados",
        "foto_url": "salgados/2.png",
        "disponivel": True,
        "descricao": "Carne ou frango",
    },
    {
        "id": 13,
        "nome": "Mistinho",
        "preco": 8.0,
        "categoria": "Salgados",
        "foto_url": "salgados/3.png",
        "disponivel": True,
        "descricao": "Queijo + presunto",
    },
    {
        "id": 14,
        "nome": "Maravilha",
        "preco": 8.0,
        "categoria": "Salgados",
        "foto_url": "salgados/4.png",
        "disponivel": True,
        "descricao": "Assado especial da cantina",
    },
    {
        "id": 15,
        "nome": "Pão de Queijo G",
        "preco": 3.0,
        "categoria": "Salgados",
        "foto_url": "salgados/6.png",
        "disponivel": True,
        "descricao": "Grande Unidade",
    },
    {
        "id": 16,
        "nome": "Bolinho de Salsicha",
        "preco": 8.0,
        "categoria": "Salgados",
        "foto_url": "salgados/7.png",
        "disponivel": True,
        "descricao": "Salgado com salsicha e temperos",
    },
    {
        "id": 17,
        "nome": "Empada",
        "preco": 8.0,
        "categoria": "Salgados",
        "foto_url": "salgados/8.png",
        "disponivel": True,
        "descricao": "Empada recheada Diversos Sabores",
    },
    {
        "id": 18,
        "nome": "Quibe",
        "preco": 7.0,
        "categoria": "Salgados",
        "foto_url": "salgados/9.png",
        "disponivel": True,
        "descricao": "Recheado com carne e queijo",
    },

    # ========= REFEIÇÕES =========
    {
        "id": 19,
        "nome": "Bife Acebolado",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/1.png",
        "disponivel": True,
        "descricao": "Prato Feito  Arroz, feijão, fritas e salada",
    },
    {
        "id": 20,
        "nome": "Carne de Panela",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/2.png",
        "disponivel": True,
        "descricao": "Prato Feito  Arroz, feijão, fritas e salada",
    },
    {
        "id": 21,
        "nome": "Bisteca",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/3.png",
        "disponivel": True,
        "descricao": "Prato Feito  Arroz, feijão, fritas e salada",
    },
    {
        "id": 22,
        "nome": "Filé de Peixe",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/4.png",
        "disponivel": True,
        "descricao": "Prato Feito  Arroz, feijão, fritas e salada",
    },
    {
        "id": 23,
        "nome": "Frango à Milanesa",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/5.png",
        "disponivel": True,
        "descricao": "Prato Feito  Arroz, feijão, fritas e salada",
    },
    {
        "id": 24,
        "nome": "Parmegiana de Frango",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/6.png",
        "disponivel": True,
        "descricao": "Prato Feito Arroz e fritas",
    },
    {
        "id": 25,
        "nome": "Feijoada PF",
        "preco": 20.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/7.png",
        "disponivel": True,
        "descricao": "Prato Feito Feijoada, arroz, couve, torresmo",
    },
    {
        "id": 26,
        "nome": "Feijoada Completa",
        "preco": 25.0,
        "categoria": "Refeicoes",
        "foto_url": "refeicoes/8.png",
        "disponivel": True,
        "descricao": "Executivo Arroz, feijoada, couve, torresmo",
    },

    # ========= OUTROS =========
    {
        "id": 27,
        "nome": "Halls",
        "preco": 2.5,
        "categoria": "Outros",
        "foto_url": "outros/1.png",
        "disponivel": True,
        "descricao": "Diversos sabores variados",
    },
    {
        "id": 28,
        "nome": "Trident",
        "preco": 4.5,
        "categoria": "Outros",
        "foto_url": "outros/2.png",
        "disponivel": True,
        "descricao": "Diversos sabores variados",
    },
    {
        "id": 29,
        "nome": "Mentos",
        "preco": 4.0,
        "categoria": "Outros",
        "foto_url": "outros/3.png",
        "disponivel": True,
        "descricao": "Diversos sabores variados",
    },
    {
        "id": 30,
        "nome": "Tic Tac",
        "preco": 3.5,
        "categoria": "Outros",
        "foto_url": "outros/4.png",
        "disponivel": True,
        "descricao": "Diversos sabores variados",
    },
    {
        "id": 31,
        "nome": "Diamante Negro",
        "preco": 3.5,
        "categoria": "Outros",
        "foto_url": "outros/5.png",
        "disponivel": True,
        "descricao": "Chocolate Unidade",
    },
    {
        "id": 32,
        "nome": "Prestígio",
        "preco": 4.0,
        "categoria": "Outros",
        "foto_url": "outros/6.png",
        "disponivel": True,
        "descricao": "Chocolate Unidade",
    },
    {
        "id": 33,
        "nome": "Chokito",
        "preco": 4.0,
        "categoria": "Outros",
        "foto_url": "outros/7.png",
        "disponivel": True,
        "descricao": "Chocolate Unidade",
    },
    {
        "id": 34,
        "nome": "Laka",
        "preco": 4.0,
        "categoria": "Outros",
        "foto_url": "outros/8.png",
        "disponivel": True,
        "descricao": "Chocolate Unidade",
    },
    {
        "id": 35,
        "nome": "Snickers",
        "preco": 6.0,
        "categoria": "Outros",
        "foto_url": "outros/9.png",
        "disponivel": True,
        "descricao": "Chocolate Unidade",
    },
    {
        "id": 36,
        "nome": "Paçoca Amor",
        "preco": 1.5,
        "categoria": "Outros",
        "foto_url": "outros/10.png",
        "disponivel": True,
        "descricao": "Unidade",
    },
]


def proximo_id_produto():
    if not PRODUTOS:
        return 1
    return max(p.get("id", 0) for p in PRODUTOS) + 1


def listar_produtos():
    PRODUTOS.sort(
        key=lambda x: ((x.get("categoria") or "Outros"), (x.get("nome") or ""))
    )
    return PRODUTOS


def produto_por_id(produto_id):
    for p in PRODUTOS:
        if p.get("id") == produto_id:
            return p
    return None


def alternar_disponibilidade(produto_id):
    p = produto_por_id(produto_id)
    if not p:
        return False
    p["disponivel"] = not p.get("disponivel", True)
    return True


def remover_produto(produto_id):
    p = produto_por_id(produto_id)
    if not p:
        return False
    PRODUTOS.remove(p)
    return True
